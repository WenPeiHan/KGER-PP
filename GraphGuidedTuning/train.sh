# python main.py --do_train --T5 --model_name_or_path /root/autodl-tmp/PrML/flan-t5-base --data_file_path ../DataSet/data/data_en.json --embedding_enhance True --graph_guide True --entity_embedding_path ../MPKG_Embedding/output/TransE_768/entity_embedding.npy --graph_feature_path ../GraphFeature/output/concat_features_T5_base.npy --preprocessing_num_workers 10 --output_dir output/T5_base_10000_3E4_512_128_16_32_05_01_4_TransE --overwrite_output_dir --max_source_length 512 --max_target_length 128 --r 16 --lora_alpha 32 --lora_dropout 0.05 --target_modules "q,v,k,o,wi_0,wi_1,wo" --per_device_train_batch_size 24 --per_device_eval_batch_size 16 --gradient_accumulation_steps 16 --predict_with_generate --max_steps 10000 --logging_steps 1000 --save_steps 2000 --type_balance True --learning_rate 3e-4 --weight_decay 0.01 --warmup_steps 1000 --gradient_accumulation_steps 4
python main.py --do_eval --do_predict --T5 --model_name_or_path /root/autodl-tmp/PrML/flan-t5-base --data_file_path ../DataSet/data/data_en.json --embedding_enhance True --graph_guide True --entity_embedding_path ../MPKG_Embedding/output/TransE_768/entity_embedding.npy --graph_feature_path ../GraphFeature/output/concat_features_T5_base.npy --preprocessing_num_workers 10 --output_dir output/T5_base_10000_3E4_512_128_16_32_05_01_4_TransE --resume_from_checkpoint output/T5_base_10000_3E4_512_128_16_32_05_01_4_TransE/checkpoint-10000 --overwrite_output_dir --max_source_length 512 --max_target_length 128 --r 16 --lora_alpha 32 --lora_dropout 0.05 --target_modules "q,v,k,o,wi_0,wi_1,wo" --per_device_train_batch_size 24 --per_device_eval_batch_size 16 --gradient_accumulation_steps 16 --predict_with_generate --max_steps 10000 --logging_steps 1000 --save_steps 2000 --type_balance True --learning_rate 3e-4 --weight_decay 0.01 --warmup_steps 1000 --gradient_accumulation_steps 4
# python main.py --do_train --T5 --model_name_or_path /root/autodl-tmp/PrML/flan-t5-base --data_file_path ../DataSet/data/data_en.json --embedding_enhance True --graph_guide True --entity_embedding_path ../MPKG_Embedding/output/DistMult_768/entity_embedding.npy --graph_feature_path ../GraphFeature/output/concat_features_T5_base.npy --preprocessing_num_workers 10 --output_dir output/T5_base_10000_3E4_512_128_16_32_05_01_4_DistMult --overwrite_output_dir --max_source_length 512 --max_target_length 128 --r 16 --lora_alpha 32 --lora_dropout 0.05 --target_modules "q,v,k,o,wi_0,wi_1,wo" --per_device_train_batch_size 24 --per_device_eval_batch_size 16 --gradient_accumulation_steps 16 --predict_with_generate --max_steps 10000 --logging_steps 1000 --save_steps 2000 --type_balance True --learning_rate 3e-4 --weight_decay 0.01 --warmup_steps 1000 --gradient_accumulation_steps 4
python main.py --do_eval --do_predict --T5 --model_name_or_path /root/autodl-tmp/PrML/flan-t5-base --data_file_path ../DataSet/data/data_en.json --embedding_enhance True --graph_guide True --entity_embedding_path ../MPKG_Embedding/output/DistMult_768/entity_embedding.npy --graph_feature_path ../GraphFeature/output/concat_features_T5_base.npy --preprocessing_num_workers 10 --output_dir output/T5_base_10000_3E4_512_128_16_32_05_01_4_DistMult --resume_from_checkpoint output/T5_base_10000_3E4_512_128_16_32_05_01_4_DistMult/checkpoint-10000 --overwrite_output_dir --max_source_length 512 --max_target_length 128 --r 16 --lora_alpha 32 --lora_dropout 0.05 --target_modules "q,v,k,o,wi_0,wi_1,wo" --per_device_train_batch_size 24 --per_device_eval_batch_size 16 --gradient_accumulation_steps 16 --predict_with_generate --max_steps 10000 --logging_steps 1000 --save_steps 2000 --type_balance True --learning_rate 3e-4 --weight_decay 0.01 --warmup_steps 1000 --gradient_accumulation_steps 4
# python main.py --do_train --T5 --model_name_or_path /root/autodl-tmp/PrML/flan-t5-large --data_file_path ../DataSet/data/data_en.json --embedding_enhance True --graph_guide True --entity_embedding_path ../MPKG_Embedding/output/TransE_1024/entity_embedding.npy --graph_feature_path ../GraphFeature/output/concat_features_T5_large.npy --preprocessing_num_workers 10 --output_dir output/T5_large_10000_3E4_512_128_16_32_05_01_4_TransE --overwrite_output_dir --max_source_length 512 --max_target_length 128 --r 16 --lora_alpha 32 --lora_dropout 0.05 --target_modules "q,v,k,o,wi_0,wi_1,wo" --per_device_train_batch_size 24 --per_device_eval_batch_size 16 --gradient_accumulation_steps 16 --predict_with_generate --max_steps 10000 --logging_steps 1000 --save_steps 2000 --type_balance True --learning_rate 3e-4 --weight_decay 0.01 --warmup_steps 1000 --gradient_accumulation_steps 4
python main.py --do_eval --do_predict --T5 --model_name_or_path /root/autodl-tmp/PrML/flan-t5-large --data_file_path ../DataSet/data/data_en.json --embedding_enhance True --graph_guide True --entity_embedding_path ../MPKG_Embedding/output/TransE_1024/entity_embedding.npy --graph_feature_path ../GraphFeature/output/concat_features_T5_large.npy --preprocessing_num_workers 10 --output_dir output/T5_large_10000_3E4_512_128_16_32_05_01_4_TransE --resume_from_checkpoint output/T5_large_10000_3E4_512_128_16_32_05_01_4_TransE/checkpoint-4000 --overwrite_output_dir --max_source_length 512 --max_target_length 128 --r 16 --lora_alpha 32 --lora_dropout 0.05 --target_modules "q,v,k,o,wi_0,wi_1,wo" --per_device_train_batch_size 24 --per_device_eval_batch_size 16 --gradient_accumulation_steps 16 --predict_with_generate --max_steps 10000 --logging_steps 1000 --save_steps 2000 --type_balance True --learning_rate 3e-4 --weight_decay 0.01 --warmup_steps 1000 --gradient_accumulation_steps 4
#python main.py --do_train --T5 --model_name_or_path /root/autodl-tmp/PrML/flan-t5-large --data_file_path ../DataSet/data/data_en.json --embedding_enhance True --graph_guide True --entity_embedding_path ../MPKG_Embedding/output/DistMult_1024/entity_embedding.npy --graph_feature_path ../GraphFeature/output/concat_features_T5_large.npy --preprocessing_num_workers 10 --output_dir output/T5_large_10000_3E4_512_128_16_32_05_01_4_DistMult --resume_from_checkpoint output/T5_large_10000_3E4_512_128_16_32_05_01_4_DistMult/checkpoint-9000 --overwrite_output_dir --max_source_length 512 --max_target_length 128 --r 16 --lora_alpha 32 --lora_dropout 0.05 --target_modules "q,v,k,o,wi_0,wi_1,wo" --per_device_train_batch_size 24 --per_device_eval_batch_size 16 --gradient_accumulation_steps 16 --predict_with_generate --max_steps 10000 --logging_steps 1000 --save_steps 1000 --type_balance True --learning_rate 3e-4 --weight_decay 0.01 --warmup_steps 1000 --gradient_accumulation_steps 4
python main.py --do_eval --T5 --model_name_or_path /root/autodl-tmp/PrML/flan-t5-large --data_file_path ../DataSet/data/data_en.json --embedding_enhance True --graph_guide True --entity_embedding_path ../MPKG_Embedding/output/DistMult_1024/entity_embedding.npy --graph_feature_path ../GraphFeature/output/concat_features_T5_large.npy --preprocessing_num_workers 10 --output_dir output/T5_large_10000_3E4_512_128_16_32_05_01_4_DistMult --resume_from_checkpoint output/T5_large_10000_3E4_512_128_16_32_05_01_4_DistMult/checkpoint-10000 --overwrite_output_dir --max_source_length 512 --max_target_length 128 --r 16 --lora_alpha 32 --lora_dropout 0.05 --target_modules "q,v,k,o,wi_0,wi_1,wo" --per_device_train_batch_size 24 --per_device_eval_batch_size 16 --gradient_accumulation_steps 16 --predict_with_generate --max_steps 10000 --logging_steps 1000 --save_steps 2000 --type_balance True --learning_rate 3e-4 --weight_decay 0.01 --warmup_steps 1000 --gradient_accumulation_steps 4